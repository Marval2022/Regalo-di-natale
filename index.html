<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Un pensiero per te üéÅ</title>
<style>
body {
   font-family: Arial, sans-serif;
   text-align: center;
   padding: 40px;
   background: #fdf6e3;
   overflow-x: hidden;
}

#gift-box h2 {
   margin-bottom: 20px;
   color: #1fa855;
}

#gift-closed {
   display: inline-block;
   font-size: 80px;
   cursor: pointer;
   transition: transform 0.5s ease;
}

#gift-open {
   display: none;
   margin-top: 20px;
   opacity: 0;
   transform: translateY(-50px);
   transition: opacity 1s ease, transform 1s ease;
}

#gift-open img {
   max-width: 100%;
   border-radius: 12px;
   box-shadow: 0 6px 12px rgba(0,0,0,0.2);
   transform: scale(0.8);
   transition: transform 0.8s ease;
}

#countdown {
   font-size: 1.2em;
   margin-top: 10px;
   color: #555;
}

/* Scintille natalizie */
.sparkle {
   position: absolute;
   width: 8px;
   height: 8px;
   background: gold;
   border-radius: 50%;
   pointer-events: none;
   opacity: 0.9;
   animation: sparkleAnim 1s linear infinite;
}

@keyframes sparkleAnim {
   0% {transform: translateY(0) scale(1); opacity: 1;}
   50% {transform: translateY(-20px) scale(1.5); opacity: 0.5;}
   100% {transform: translateY(-40px) scale(0); opacity: 0;}
}
</style>
</head>
<body>
<div id="gift-box">
   <h2>üéÅ Un dono speciale</h2>
   <p id="gift-message">Il tuo biglietto da visita digitale si aprir√† a mezzanotte üéÑ</p>

   <div id="countdown"></div>

   <div id="gift-closed">üéÅ</div>

   <div id="gift-open">
       <h3>Buon Natale! ‚ú®</h3>
       <p>Ecco il tuo biglietto digitale con QR code:</p>

       <img src="https://dl.dropboxusercontent.com/scl/fi/p9lc2eiizhfw9dky7y3ri/Biglietto.PNG"
            alt="Biglietto da visita con QR code" id="gift-img">

       <p style="font-size:0.9em; color:#555;">Scansiona il QR code per scoprire il tuo regalo üéÅ</p>
   </div>
</div>

<script>
// Data di apertura: 25 Dicembre 2025 ore 00:00:00
// Nota: il mese √® 11 perch√© in JS i mesi partono da 0 (0=Gen, 11=Dic)
const unlockTime = new Date(2025, 11, 25, 0, 0, 0).getTime();

const giftClosed = document.getElementById("gift-closed");
const giftOpen = document.getElementById("gift-open");
const giftMessage = document.getElementById("gift-message");
const giftImg = document.getElementById("gift-img");
const countdownEl = document.getElementById("countdown");

function openGift() {
   giftClosed.style.transform = "scale(1.3) rotate(10deg)";
   createSparkles(50);

   setTimeout(() => {
       giftClosed.style.display = "none";
       giftMessage.style.display = "none";
       countdownEl.style.display = "none";
       giftOpen.style.display = "block";
       setTimeout(() => {
           giftOpen.style.opacity = 1;
           giftOpen.style.transform = "translateY(0)";
           giftImg.style.transform = "scale(1)";
       }, 50);
   }, 700);
}

function updateCountdown() {
   const now = new Date().getTime();
   const distance = unlockTime - now;

   if(distance <= 0){
       openGift();
       clearInterval(countdownInterval);
   } else {
       // CALCOLO CORRETTO: Aggiunti i giorni (days)
       const days = Math.floor(distance / (1000 * 60 * 60 * 24));
       const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
       const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
       const seconds = Math.floor((distance % (1000 * 60)) / 1000);
       
       // Mostra i giorni solo se mancano pi√π di 24 ore
       if (days > 0) {
           countdownEl.innerHTML = `Apertura tra: ${days}g ${hours}h ${minutes}m ${seconds}s`;
       } else {
           countdownEl.innerHTML = `Apertura tra: ${hours}h ${minutes}m ${seconds}s`;
       }
   }
}

function createSparkles(number){
   for(let i=0; i<number; i++){
       const sparkle = document.createElement("div");
       sparkle.className = "sparkle";
       sparkle.style.left = Math.random() * window.innerWidth + "px";
       sparkle.style.top = Math.random() * window.innerHeight/2 + "px";
       document.body.appendChild(sparkle);
       setTimeout(()=>{ sparkle.remove(); }, 2000 + Math.random()*1000);
   }
}

const countdownInterval = setInterval(updateCountdown, 1000);
updateCountdown();

giftClosed.addEventListener("click", () => {
   // Controllo aggiuntivo per sicurezza
   if (new Date().getTime() < unlockTime) {
       alert("Non ancora! Il biglietto si aprir√† a mezzanotte tra il 24 e il 25 üéÑ");
   } else {
       openGift();
   }
});
</script>
</body>
</html>






